---
phase: 03-frontend-integration
plan: 01
type: execute
---

<objective>
Set up React TypeScript frontend with Vite build system and Starknet wallet connection infrastructure.

Purpose: Establish the foundation for VRF interaction by setting up the project structure and enabling users to connect their Starknet wallets (Argent X, Braavos).
Output: Working React app with wallet connection UI and proper Starknet provider configuration.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
./summary.md
~/.claude/get-shit-done/references/checkpoints.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-cairo-contract-foundation/01-01-SUMMARY.md
@.planning/phases/02-random-range-generation/02-01-SUMMARY.md
@contract/src/random_range_generator.cairo

**Tech stack available:**
- Cairo 2024_07 with Scarb 2.12.1
- VrfConsumerComponent integration pattern
- RandomResult storage: Map<ContractAddress, RandomResult>
- Contract interface: generate_random_in_range(min, max) -> u128, get_last_random_number() -> (value, min, max)

**Established patterns:**
- VRF consumption with Source::Nonce(caller) for non-deterministic randomness
- Uniform distribution: min + (random % (max - min + 1))
- Storage per user address pattern

**Constraining decisions:**
- Use Vite over CRA (Key Decision from PROJECT.md)
- Target Sepolia testnet only
- Follow @starknet-react/core v3 patterns for wallet connection
- Dependencies: starknet ^6.11.0, @starknet-react/core ^3.5.0, get-starknet ^3.3.0

**Reference materials:**
- VRF provider address (Sepolia): 0x051fea4450da9d6aee758bdeba88b2f665bcbf549d2c61421aa724e9ac0ced8f
- Starknet React v3 docs: https://v3.starknet-react.com/docs/getting-started
- Wallet connection patterns: https://www.starknet-react.com/docs/wallets
</context>

<tasks>

<task type="auto">
  <name>Task 1: Initialize Vite React TypeScript project</name>
  <files>frontend/package.json, frontend/tsconfig.json, frontend/vite.config.ts, frontend/src/main.tsx, frontend/src/App.tsx, frontend/.gitignore, frontend/index.html</files>
  <action>Create frontend/ directory in project root. Run `npm create vite@latest frontend -- --template react-ts` to scaffold project. Install dependencies: starknet@^6.11.0, @starknet-react/core@^3.5.0, @starknet-react/chains@^3.0.0, get-starknet@^3.3.0. Add to tsconfig.json: "compilerOptions": {"resolveJsonModule": true, "esModuleInterop": true}. Update vite.config.ts to proxy for dev server if needed. Clean out default Vite template content from App.tsx (keep basic shell).</action>
  <verify>cd frontend && npm install succeeds, npm run dev starts dev server on http://localhost:5173</verify>
  <done>Vite project created with TypeScript, dependencies installed, dev server runs without errors</done>
</task>

<task type="auto">
  <name>Task 2: Configure Starknet provider and wallet connectors</name>
  <files>frontend/src/providers/StarknetProvider.tsx, frontend/src/main.tsx</files>
  <action>Create frontend/src/providers/StarknetProvider.tsx. Import StarknetConfig from @starknet-react/core, sepolia from @starknet-react/chains, publicProvider from @starknet-react/core/providers, useInjectedConnectors from @starknet-react/core/hooks/connectors. Use useInjectedConnectors hook with recommended: [argent(), braavos()] (import from @starknet-react/core/connectors). Configure StarknetConfig component with: chains=[sepolia], provider=publicProvider(), connectors={connectors}, explorer={starknet.explorer for sepolia}. Export as default StarknetProvider component wrapping children. Update main.tsx to wrap <App /> with <StarknetProvider>. Follow pattern from https://v3.starknet-react.com/docs/getting-started. Do NOT use deprecated @starknet-react/connectors - use built-in connectors from @starknet-react/core/connectors.</action>
  <verify>npm run dev succeeds, no console errors about provider configuration, React DevTools shows StarknetConfig in component tree</verify>
  <done>StarknetProvider configured with Sepolia testnet, Argent X and Braavos connectors available, app wrapped in provider</done>
</task>

<task type="auto">
  <name>Task 3: Create wallet connection UI component</name>
  <files>frontend/src/components/WalletConnect.tsx, frontend/src/App.tsx</files>
  <action>Create frontend/src/components/WalletConnect.tsx. Import useConnect, useDisconnect, useAccount from @starknet-react/core. Component displays: (1) If disconnected: "Connect Wallet" button that shows list of available connectors from useConnect().connectors when clicked (map over connectors, show connector.name, call connect({ connector }) on click); (2) If connected: show truncated address from useAccount().address (first 6 + "..." + last 4 chars), "Disconnect" button calling disconnect(). Use simple styling (flex layout, buttons with padding/border). Update App.tsx to import and render <WalletConnect /> at top. Add basic page title "VRF Random Range Generator". Use semantic HTML and clear button labels.</action>
  <verify>npm run dev shows connect button, clicking shows Argent X and Braavos options, browser extension connection flow works (test with installed wallet), connected state shows address and disconnect button</verify>
  <done>Wallet connection UI functional: users can connect Argent X or Braavos, see connected address, disconnect. No runtime errors.</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Frontend with wallet connection UI</what-built>
  <how-to-verify>
    1. Run: cd frontend && npm run dev
    2. Visit: http://localhost:5173
    3. Click "Connect Wallet" button
    4. Verify: Argent X and Braavos options appear
    5. Connect with installed wallet (Argent X or Braavos)
    6. Verify: Address displays in truncated format (0x1234...5678)
    7. Verify: "Disconnect" button appears
    8. Click disconnect, verify returns to "Connect Wallet" state
    9. Check console: no errors or warnings
  </how-to-verify>
  <resume-signal>Type "approved" to continue, or describe issues to fix</resume-signal>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] npm run dev starts frontend without errors
- [ ] Wallet connection flow works with Argent X or Braavos
- [ ] Connected address displays correctly
- [ ] Disconnect functionality works
- [ ] No console errors or warnings
</verification>

<success_criteria>

- All tasks completed
- All verification checks pass
- Frontend runs on localhost:5173
- Users can connect and disconnect Starknet wallets
- StarknetProvider properly configured for Sepolia testnet
</success_criteria>

<output>
After completion, create `.planning/phases/03-frontend-integration/03-01-SUMMARY.md`:

# Phase 03-01: Frontend Setup & Wallet Integration Summary

**[Substantive one-liner - what shipped]**

## Accomplishments

- [Key outcomes]

## Files Created/Modified

- `path/to/file.ts` - Description

## Decisions Made

[Key decisions and rationale, or "None"]

## Issues Encountered

[Problems and resolutions, or "None"]

## Next Step

Ready for 03-02-PLAN.md (VRF Multicall Implementation)
</output>
