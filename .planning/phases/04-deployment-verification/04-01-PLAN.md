---
phase: 04-deployment-verification
plan: 01
type: execute
---

<objective>
Deploy RandomRangeGenerator contract to Starknet Sepolia testnet with VRF provider properly configured.

Purpose: Make the contract accessible on testnet so the frontend can interact with it and demonstrate the complete VRF workflow.
Output: Deployed contract on Sepolia with recorded class hash and contract address.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
./summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-cairo-contract-foundation/01-01-SUMMARY.md
@contract/src/random_range_generator.cairo
@contract/Scarb.toml

**Tech stack available:**
- starkli 0.4.2 for contract deployment
- scarb for Cairo contract building
- VRF provider address: 0x051fea4450da9d6aee758bdeba88b2f665bcbf549d2c61421aa724e9ac0ced8f (Sepolia)

**Established patterns:**
- Contract already built with Sierra artifacts at contract/target/dev/
- VrfConsumerComponent integration requires vrf_provider address in constructor
- Sepolia testnet deployment using starkli declare + deploy

**Constraining decisions:**
- Phase 1: VRF provider address is hardcoded constant (0x051fea...)
- Must use Sepolia testnet only (no mainnet deployment)
- Constructor requires vrf_provider parameter

**VRF Provider Address (Sepolia):**
0x051fea4450da9d6aee758bdeba88b2f665bcbf549d2c61421aa724e9ac0ced8f
</context>

<tasks>

<task type="auto">
  <name>Task 1: Declare contract class on Sepolia testnet</name>
  <files>contract/target/dev/vrf_random_range_RandomRangeGenerator.contract_class.json</files>
  <action>Use starkli to declare the contract class on Sepolia testnet. Run `starkli declare contract/target/dev/vrf_random_range_RandomRangeGenerator.contract_class.json --network sepolia`. This uploads the contract class and returns a class hash. Store the class hash for deployment. If authentication is required, starkli will prompt for account/keystore setup - this is expected for first-time deployment. If class already declared, starkli will return the existing class hash (this is fine, not an error).</action>
  <verify>starkli command completes successfully and outputs class hash (0x...)</verify>
  <done>Class hash obtained and recorded, either from new declaration or existing class confirmation</done>
</task>

<task type="auto">
  <name>Task 2: Deploy contract instance with VRF provider address</name>
  <files>None (deployment operation)</files>
  <action>Deploy the contract using the class hash from Task 1. Run `starkli deploy <class_hash> <vrf_provider_address> --network sepolia` where vrf_provider_address is 0x051fea4450da9d6aee758bdeba88b2f665bcbf549d2c61421aa724e9ac0ced8f. This creates a contract instance by calling the constructor with the VRF provider address. Starkli will return the deployed contract address. Record this address - it will be needed in Phase 4 Plan 2 to update the frontend constant.</action>
  <verify>starkli deploy completes successfully and outputs contract address (0x...)</verify>
  <done>Contract deployed on Sepolia testnet, contract address obtained and recorded</done>
</task>

</tasks>

<verification>
Before declaring phase complete:
- [ ] Class hash obtained from starkli declare
- [ ] Contract address obtained from starkli deploy
- [ ] Contract address is non-zero and valid Sepolia address
- [ ] Deployment transaction confirmed on testnet
</verification>

<success_criteria>

- starkli declare completed successfully
- starkli deploy completed successfully with vrf_provider_address constructor argument
- Contract address recorded for frontend integration
- No deployment errors or transaction failures
</success_criteria>

<output>
After completion, create `.planning/phases/04-deployment-verification/04-01-SUMMARY.md`:

# Phase 04-01: Contract Deployment Summary

**[One-liner describing deployment outcome]**

## Accomplishments

- Contract class declared on Sepolia testnet
- Contract instance deployed with VRF provider configured
- Class hash: [record actual hash]
- Contract address: [record actual address]

## Files Created/Modified

None (deployment operations)

## Decisions Made

[Any decisions made during deployment, or "None"]

## Issues Encountered

[Any issues and resolutions, or "None"]

## Next Step

Ready for 04-02-PLAN.md (Frontend update and E2E verification)
</output>
